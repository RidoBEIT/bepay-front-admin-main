
<header>
    <link 
    href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" 
    rel="stylesheet"  type='text/css'>
  </header>
  
 <sb-navbar
 [term]="term"
 [content]="content"
 [placeHol]="placeHol"
 ></sb-navbar>
  <div class="card-body text-center">
            <div class="row justify-content-center">
                <div class="col-10">
                    <table class = "table table-striped text-center">
                        <thead>
                            <tr>
                                <th> #</th>
                                <th> Nom </th>
                                <th> Nom Entreprise</th>
                                <th> Numero Entreprise</th>
                                <th> Email Entreprise</th>
                                <th> Nom Représentant</th>
                                <th> Numero Représentant</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor = "let client of clients|filter:term, let i=index" >
                                <td>{{ i+1 }}</td>
                                <td> {{ client.nom }} </td>
                                <td> {{ client.nom_entreprise}} </td>
                                <td> {{ client.numero_entreprise}} </td>
                                <td> {{ client.email_entreprise}} </td>
                                <td> {{ client.nom_representant}} </td>
                                <td> {{ client.numero_representant}} </td>
                                
                                <td>
                                <button (click)="open(content3,client)" mat-raised-button color="#13B157" class="button-vue button" ><i class="fa fa-eye"></i>&nbsp;</button>
                                <button  (click)="open(content2, client)" mat-raised-button color="primary" class=" button"  style="margin-left: 10px"  ><i class="fa fa-edit"></i>&nbsp; </button>
                                <button (click) = "deleteClient(client)" mat-raised-button color="warn" class="button "  style="margin-left: 10px"><i class="fa fa-trash-o"></i>&nbsp;</button>
                            
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
          </div>
      
  
  <ng-template id="addModal" #content let-modal>
    <form action="" *ngIf="addClientFormGroup" [formGroup]="addClientFormGroup" (ngSubmit)="onAddClient()">
      <div class="modal-header" style="z-index: 99999999;">
        <h4 class="modal-title" id="addclient">Nouveau client</h4>
        <button type="button" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
            <div class="col-4">
              <div class="form-group">
               <label >Nom</label>
                <div class="input-group">
                  <input class="form-control" type="text" formControlName="nom" >
                </div>
              </div>
            </div>
          

            <div class="col-4">
              <div class="form-group">
                <label for="nom">Nom Entreprise</label>
                <div class="input-group">
                  <input  class="form-control" type="text" formControlName="nom_entreprise">
                </div>
              </div>
            </div>

            <div class="col-4">
              <div class="form-group">
                <label for="nom">Numero Entreprise</label>
                <div class="input-group">
                  <input  class="form-control" type="text" formControlName="numero_entreprise">
                </div>
              </div>
            </div>

          </div>
          <div class="row">
              <div class="col-4">
                <div class="form-group">
                 <label >Email Entreprise</label>
                  <div class="input-group">
                    <input class="form-control" type="text" formControlName="email_entreprise" >
                  </div>
                </div>
              </div>
            
              <div class="col-4">
                <div class="form-group">
                  <label for="nom">Nom Representant</label>
                  <div class="input-group">
                    <input  class="form-control" type="text" formControlName="nom_representant">
                  </div>
                </div>
              </div>
  
              <div class="col-4">
                <div class="form-group">
                  <label for="nom">Numero Representant</label>
                  <div class="input-group">
                    <input  class="form-control" type="text" formControlName="numero_representant">
                  </div>
                </div>
              </div>

            </div>

            <label class="label">Informations Utilisateur</label>
              <div class="row">
                <div class="col-4">
                 <div class="form-group" >
                   <label for="nom">Nom</label>
                   <div class="input-group">
                     <input  class="form-control" type="text" formControlName="nom_user">
                   </div>
                 </div>
                </div>
                <div class="col-4">
                 <div class="form-group">
                   <label for="prenom">Prenom</label>
                   <div class="input-group">
                     <input id="prenom" class="form-control" type="text" formControlName="prenom">
                   </div>
                 </div>
                </div>
     
                <div class="col-4"  >
                 <div class="form-group">
                   <label for="email">Email</label>
                   <div class="input-group">
                     <input id="email" class="form-control" type="text" formControlName="email">
                    </div>
                   </div>
                 </div>
                </div>
              
               <div class="row">
    
                <div class="col-4">
                  <div class="form-group">
                    <label for="username">Username</label>
                    <div class="input-group">
                      <input id="username" class="form-control" type="text" formControlName="username" >
                    </div>
                  </div>
                </div>
    
                <div class="col-4">
                  <div class="form-group">
                    <label for="profile_user">Profile</label>
                    <div class="input-group">
                          <select class="form-control" formControlName="profile_user">
                            <option selected>Choisissez un profile</option>
                            <option *ngFor="let profile of profiles" [ngValue]="profile">{{ profile.nom_profile }}</option>
                           
                          </select>
                    </div>
                  </div>
                </div>
    
                <div class="col-4">
                  <div class="form-group">
                    <label for="password">Password</label>
                    <div class="input-group">
                      <input id="password" class="form-control" type="password" formControlName="password">
                    </div>
                    
                  </div>
                </div>
                </div>
            
      </div>
      <div class="modal-footer">
        <button type="button" mat-raised-button color="warn" class="btn " (click)="modal.close('Save click')">Annuler</button>&nbsp;
        <button type="submit" mat-raised-button color="" class="btn submit" (click)="modal.close('Save click')">Enregistrer</button>
        
      </div>
    </form>
  </ng-template>
  
  
  
  <ng-template #content2 let-modal>
    <form action="" *ngIf="updateClientFormGroup" [formGroup]="updateClientFormGroup" (ngSubmit)="onUpdateClient()">
      <div class="modal-header" style="z-index: 99999999;">
        <h4 class="modal-title" id="modal-basic-title">Mise à jour du client</h4>
        <button type="button" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-4">
            <div class="form-group">
             <label >Nom</label>
              <div class="input-group">
                <input class="form-control" type="text" formControlName="nom" >
              </div>
            </div>
          </div>
        

          <div class="col-4">
            <div class="form-group">
              <label for="nom">Nom Entreprise</label>
              <div class="input-group">
                <input  class="form-control" type="text" formControlName="nom_entreprise">
              </div>
            </div>
          </div>

          <div class="col-4">
            <div class="form-group">
              <label for="nom">Numero Entreprise</label>
              <div class="input-group">
                <input  class="form-control" type="text" formControlName="numero_entreprise">
              </div>
            </div>
          </div>

        </div>
        <div class="row">
            <div class="col-4">
              <div class="form-group">
               <label >Email Entreprise</label>
                <div class="input-group">
                  <input class="form-control" type="text" formControlName="email_entreprise" >
                </div>
              </div>
            </div>
          
            <div class="col-4">
              <div class="form-group">
                <label for="nom">Nom Representant</label>
                <div class="input-group">
                  <input  class="form-control" type="text" formControlName="nom_representant">
                </div>
              </div>
            </div>

            <div class="col-4">
              <div class="form-group">
                <label for="nom">Numero Representant</label>
                <div class="input-group">
                  <input  class="form-control" type="text" formControlName="numero_representant">
                </div>
              </div>
            </div>

          </div>

          <label class="label">Informations Utilisateur</label>
            <div class="row">
              <div class="col-4">
               <div class="form-group" >
                 <label for="nom">Nom</label>
                 <div class="input-group">
                   <input  class="form-control" type="text" formControlName="nom_user">
                 </div>
               </div>
              </div>
              <div class="col-4">
               <div class="form-group">
                 <label for="prenom">Prenom</label>
                 <div class="input-group">
                   <input id="prenom" class="form-control" type="text" formControlName="prenom">
                 </div>
               </div>
              </div>
   
              <div class="col-4"  >
               <div class="form-group">
                 <label for="email">Email</label>
                 <div class="input-group">
                   <input id="email" class="form-control" type="text" formControlName="email">
                  </div>
                 </div>
               </div>
              </div>
            
             <div class="row">
  
              <div class="col-6">
                <div class="form-group">
                  <label for="username">Username</label>
                  <div class="input-group">
                    <input id="username" class="form-control" type="text" formControlName="username" >
                  </div>
                </div>
              </div>
  
              <div class="col-6">
                <div class="form-group">
                  <label for="profile_user">Profile</label>
                  <div class="input-group">
                        <select class="form-control" formControlName="profile_user">
                          <option selected>Choisissez un profile</option>
                          <option *ngFor="let profile of profiles" [ngValue]="profile">{{ profile.nom_profile }}</option>
                         
                        </select>
                  </div>
                </div>
              </div>
  
              
              </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn submit" (click)="modal.close('Save click')">Enregistrer</button>
      </div>
    </form>
  </ng-template>


  <ng-template id="addModal" #content3 let-modal>
    <div class="modal-header" style="z-index: 99999999;">
      <h4 class="modal-title" id="addAxe">Informations Client</h4>
      <button type="button" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <!-- <div>
    <img src="{{photoBaseUrl+currentClient?.photoUrl}}" style="width: 100px;" class="img-fluid" routerLink="/billet" >

      </div> -->
      <div class="row">    
          <div class="col-sm-12">
            <div class="row b-b-default m-b-40">
              <div class="col-sm-4 mb-2">
                <p class="m-b-10 f-w-600">Nom</p>
                <h4 class="text-muted f-w-400">{{currentClient?.nom}}</h4>
              </div>
              <div class="col-sm-4 mb-2">
                  <p class="m-b-10 f-w-600">Nom Entreprise</p>
                  <h4 class="text-muted f-w-400">{{currentClient?.nom_entreprise}}</h4>
              </div>
              <div class="col-sm-4 mb-2">
                  <p class="m-b-10 f-w-600">Numero Entreprise</p>
                  <h4 class="text-muted f-w-400">{{currentClient?.numero_entreprise}}</h4>
                  <!-- <h4 class="text-muted f-w-400">{{currentClient?.prenom | number: '1.0-0'}}</h4> -->
              </div>
              <div class="col-sm-4 mb-2">
                  <p class="m-b-10 f-w-600">Email Entreprise</p>
                  <h4 class="text-muted f-w-400">{{currentClient?.email_entreprise}}</h4>
                  <!-- <h4 class="text-muted f-w-400">{{currentClient?.prenom | number: '1.0-0'}}</h4> -->
                </div>
                <div class="col-sm-4 mb-2">
                  <p class="m-b-10 f-w-600">Nom Representant</p>
                  <h4 class="text-muted f-w-400">{{currentClient?.nom_representant}}</h4>
                  <!-- <h4 class="text-muted f-w-400">{{currentClient?.prenom | number: '1.0-0'}}</h4> -->
                </div>
              <div class="col-sm-4 mb-2">
                <p class="m-b-10 f-w-600">Numero Representant</p>
                <h4 class="text-muted f-w-400">{{currentClient?.numero_representant}}</h4>
                <!-- <h4 class="text-muted f-w-400">{{currentClient?.prenom | number: '1.0-0'}}</h4> -->
              </div>
              <div class="col-sm-4 mb-2">
                <p class="m-b-10 f-w-600">Utilisateur Nom</p>
                <h4 class="text-muted f-w-400">{{currentClient?.user.nom}}</h4>
                <!-- <h4 class="text-muted f-w-400">{{currentClient?.prenom | number: '1.0-0'}}</h4> -->
              </div>
              <div class="col-sm-4 mb-2">
                <p class="m-b-10 f-w-600">Utilisateur Prenom</p>
                <h4 class="text-muted f-w-400">{{currentClient?.user.prenom}}</h4>
                <!-- <h4 class="text-muted f-w-400">{{currentClient?.prenom | number: '1.0-0'}}</h4> -->
              </div>
              <div class="col-sm-4 mb-2">
                <p class="m-b-10 f-w-600">Utilisateur Username</p>
                <h4 class="text-muted f-w-400">{{currentClient?.user.username}}</h4>
                <!-- <h4 class="text-muted f-w-400">{{currentClient?.prenom | number: '1.0-0'}}</h4> -->
              </div>
          
            </div>
          </div>
        </div>
           
    </div>
         
         
    <div class="modal-footer">
      <button type="button" mat-raised-button color="warn" class="btn" (click)="modal.close('Save click')">Fermer</button>&nbsp;
      <!-- <button type="submit" mat-raised-button color="#13B157" class="btn submit" (click)="modal.close('Save click')">Enregistrer</button> -->
    </div>
</ng-template>